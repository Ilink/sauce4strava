<% if (obj.athlete) { %>
    <section class="overview {{collapsed.overview === true ? 'collapsed' : ''}}"
             data-id="overview">
        <header>
            <i class="icon">{-await fa('info-circle-duotone')-}</i>
            <div class="title">Overview<!--XXX Localize--></div>
            <a class="view-control collapser">{-await fa('minus-square-duotone')-}</a>
            <a class="view-control expander">{-await fa('plus-square-duotone')-}</a>
        </header>

        <% if (missingTSS.length) { %>
            <row class="warning">
                <key>{-await fa('exclamation-triangle-duotone')-}Missing TSS:</key><!--XXX localize-->
                <value><a href="javascript:void(0);" class="missing-tss">{{missingTSS.length}} activities</a></value><!--XXX localize-->
            </row>
        <% } %>

        <row>
            <key>Total:</key><!--XXX localize-->
            <value>{{humanDuration(totalTime, {maxPeriod: 3600, precision: 3600})}}</value>
        </row>
        <row>
            <key></key><!--XXX localize-->
            <value>{{humanDistance(totalDistance, 0)}}<abbr
                class="unit short">{{sauce.locale.distanceFormatter.shortUnitKey()}}</abbr></value>
        </row>
        <row>
            <key>Avg week:</key><!--XXX localize-->
            <value>{{humanDuration(weeklyTime, {maxPeriod: 3600, minPeriod: 3600, digits: 1})}}</value>
        </row>
        <row>
            <key></key>
            <value>{{humanDistance(weeklyDistance)}}<abbr
                class="unit short">{{sauce.locale.distanceFormatter.shortUnitKey()}}</abbr></value>
        </row>
        <row>
            <key>Avg TSS:</key><!--XXX localize-->
            <value>{{humanNumber(tssAvg)}}</value>
        </row>
        <row>
            <key>Active days:</key><!--XXX localize-->
            <value>{{humanNumber(activeDays)}}</value>
        </row>
        <row>
            <key>Peak fitness:</key><!--XXX localize-->
            <value>{{humanNumber(maxCTL)}}<abbr class="unit">CTL</abbr></value>
        </row>
        <row>
            <key>Least form:</key><!--XXX localize-->
            <value>{{humanNumber(minTSB)}}<abbr class="unit">TSB</abbr></value>
        </row>
    </section>

    <section class="highlights {{collapsed.highlights === true ? 'collapsed' : ''}}"
             data-id="highlights">
        <header>
            <i class="icon">{-await fa('medal-duotone')-}</i>
            <div class="title">Best Performances<!--XXX Localize--></div>
            <a class="view-control collapser">{-await fa('minus-square-duotone')-}</a>
            <a class="view-control expander">{-await fa('plus-square-duotone')-}</a>
        </header>

        <!--XXX Localize-->
        <select name="type">
            <option value="power" {{type === 'power' ? 'selected' : ''}}>Power</option>
            <option value="power_wkg" {{type === 'power_wkg' ? 'selected' : ''}}>Power (w/kg)</option>
            <option value="np" {{type === 'np' ? 'selected' : ''}}>NP</option>
            <option value="xp" {{type === 'xp' ? 'selected' : ''}}>xPower</option>
            <option value="pace" {{type === 'pace' ? 'selected' : ''}}>Pace</option>
            <option value="gap" {{type === 'gap' ? 'selected' : ''}}>GAP</option>
            <option value="hr" {{type === 'hr' ? 'selected' : ''}}>Heartrate</option>
        </select>

        <% for (const x of peaks) { %>
            <row>
                <key>{{x.key}}:</key>
                <value><a href="javascript:void(0);"
                          data-id="{{x.activity}}">{{x.prettyValue}}<% if (x.unit) { %><abbr
                              class="unit short">{{x.unit}}</abbr><% } %></a></value>
            </row>
        <% } %>
    </section>

    <section class="sync-stats {{collapsed.sync_stats === true  ? 'collapsed' : ''}}"
             data-id="sync_stats">
        <header>
            <i class="icon">{-await fa('sync-alt-duotone')-}</i>
            <div class="title">Activity Sync<!--XXX Localize--></div>
            <a class="view-control collapser">{-await fa('minus-square-duotone')-}</a>
            <a class="view-control expander">{-await fa('plus-square-duotone')-}</a>
        </header>
        <% if (sync.active) { %>
            <row>
                <key>Status:</key><!--XXX localize-->
                <value>{{sync.status}}</value>
            </row>
        <% } %>
        <% if (sync.error) { %>
            <row>
                <key>Last Error:</key><!--XXX localize-->
                <value>{{sync.error}}</value>
            </row>
        <% } %>
        <% if (sync.counts) { %>
            <row>
                <key>Activities:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.total)}}</value>
            </row>
            <row>
                <key>Imported:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.imported)}}</value>
            </row>
            <row>
                <key>Remaining:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.total - sync.counts.unavailable - sync.counts.imported)}}</value>
            </row>
            <row>
                <key>Unavailable:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.unavailable)}}</value>
            </row>
            <row>
                <key>Processed:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.processed)}}</value>
            </row>
            <row>
                <key>Unprocessable:</key><!--XXX localize-->
                <value>{{humanNumber(sync.counts.unprocessable)}}</value>
            </row>
        <% } %>
    </section>
<% } %>
